<!DOCTYPE html>
<html lang="en" class="">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PredictAI – Community Hub</title>
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- Google Fonts: Inter -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <!-- Font Awesome CDN -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- SweetAlert2 CDN -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <!-- Jdenticon CDN -->
  <script src="https://cdn.jsdelivr.net/npm/jdenticon@3.2.0/dist/jdenticon.min.js" crossorigin="anonymous"></script>
  <!-- Supabase Client CDN -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <!-- Custom Styles -->
  <link rel="stylesheet" href="styles.css">
  <style>
    @keyframes pulse-accent-border {
      0% { border-left-color: #56eced; }
      50% { border-left-color: rgba(86, 236, 237, 0.5); }
      100% { border-left-color: #56eced; }
    }
    .sidebar-link.active.animate-pulse-border {
      animation: pulse-accent-border 1.5s infinite;
      border-left-width: 4px !important;
      border-left-style: solid !important;
      background-color: transparent !important;
    }
    .sidebar-link.active {
        color: #56eced !important;
        border-left-color: #56eced !important;
        background-color: transparent !important;
        padding-left: 1rem !important;
    }
    .sidebar-link.active i {
      color: #56eced !important;
    }
    .sidebar-link.active:hover {
        background-color: transparent !important;
    }
    .chat-embed-placeholder {
        border: 2px dashed #374151; /* dark:border-dark-border */
        min-height: 400px;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        padding: 20px;
    }
    .dark .chat-embed-placeholder {
        border-color: #E5E7EB; /* light-border */
    }
    .token-chat-room-card {
        transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    }
    .token-chat-room-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }
    .dark .token-chat-room-card:hover {
        box-shadow: 0 10px 20px rgba(86,236,237,0.15);
    }
    @media (max-width: 767px) {
      aside.fixed {
        width: 64px !important;
        min-width: 64px !important;
        max-width: 64px !important;
        padding-left: 0 !important;
        padding-right: 0 !important;
      }
      .sidebar-link {
        justify-content: center !important;
        padding-left: 0 !important;
        padding-right: 0 !important;
      }
      .sidebar-link span, .sidebar-link .sidebar-label, .sidebar-link .ml-2, .sidebar-link .font-medium {
        display: none !important;
      }
      aside .mb-8, aside .mt-auto, aside p, aside img {
        display: none !important;
      }
    }
  </style>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        fontFamily: {
          'sans': ['Inter', 'ui-sans-serif', 'system-ui'],
        },
        extend: {
          colors: {
            'light-bg': '#F8F9FB',
            'light-sidebar': '#FFFFFF',
            'light-text': '#222222',
            'light-text-secondary': '#666666',
            'light-card-bg': '#FFFFFF',
            'light-border': '#E5E7EB',

            'dark-bg': '#121212',
            'dark-sidebar': '#1A1A1A',
            'dark-text': '#FFFFFF',
            'dark-text-secondary': '#B0B0B0',
            'dark-card-bg': '#1F2937',
            'dark-border': '#374151',

            'accent': '#56eced',
            'accent-hover': '#47C8D0',
            'highlight': '#34D399',
            'twitter-blue': '#1DA1F2',
          },
          maxWidth: {
            'container': '1200px',
          },
          boxShadow: {
            'cursor': '0 0 0 1px #56eced, 0 2px 4px rgba(0,0,0,0.05)',
            'cursor-hover': '0 0 0 1px #47C8D0, 0 3px 6px rgba(0,0,0,0.07)',
            'dark-cursor': '0 0 0 1px #56eced, 0 2px 4px rgba(0,0,0,0.2)',
            'dark-cursor-hover': '0 0 0 1px #47C8D0, 0 3px 6px rgba(0,0,0,0.3)',
            'card-light': '0 4px 12px rgba(0,0,0,0.08)',
            'card-dark': '0 4px 12px rgba(0,0,0,0.25)',
          }
        },
      },
    }
  </script>
</head>
<body class="bg-light-bg text-light-text min-h-screen flex dark:bg-dark-bg dark:text-dark-text">
  <!-- Animated Background -->
  <div class="animated-bg">
    <div class="animated-circle circle1"></div>
    <div class="animated-circle circle2"></div>
    <div class="animated-circle circle3"></div>
  </div>
  <!-- Sidebar -->
  <aside class="fixed top-0 left-0 h-full w-[250px] bg-light-sidebar flex flex-col py-6 z-20 shadow-xl border-r border-light-border dark:bg-dark-sidebar dark:border-dark-border">
    <div class="mb-8 flex flex-col items-center px-4 pt-4">
      <img src="sidelogo.png" alt="PredictAI Logo" class="w-full mb-2">
      <p class="text-xs text-light-text-secondary dark:text-dark-text-secondary">AI Memecoin Insights</p>
    </div>
    <nav class="flex-1 w-full px-4">
      <ul class="flex flex-col gap-1.5 w-full">
        <li><a href="index.html" class="sidebar-link group flex items-center px-5 py-3 rounded-lg font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-accent dark:hover:text-accent hover:bg-accent/10 dark:hover:bg-accent/20 transition-colors duration-150 ease-in-out"><i class="fas fa-home w-5 h-5 mr-2.5 text-gray-400 dark:text-gray-500 group-hover:text-accent dark:group-hover:text-accent transition-colors duration-150 ease-in-out"></i><span class="sidebar-label">Home</span></a></li>
        <li><a href="dashboard.html" class="sidebar-link group flex items-center px-5 py-3 rounded-lg font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-accent dark:hover:text-accent hover:bg-accent/10 dark:hover:bg-accent/20 transition-colors duration-150 ease-in-out"><i class="fas fa-chart-line w-5 h-5 mr-2.5 text-gray-400 dark:text-gray-500 group-hover:text-accent dark:group-hover:text-accent transition-colors duration-150 ease-in-out"></i><span class="sidebar-label">Hype-Score</span></a></li>
        <li><a href="suggestions.html" class="sidebar-link group flex items-center px-5 py-3 rounded-lg font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-accent dark:hover:text-accent hover:bg-accent/10 dark:hover:bg-accent/20 transition-colors duration-150 ease-in-out"><i class="fas fa-lightbulb w-5 h-5 mr-2.5 text-gray-400 dark:text-gray-500 group-hover:text-accent dark:group-hover:text-accent transition-colors duration-150 ease-in-out"></i><span class="sidebar-label">Discovery Engine</span></a></li>
        <li><a href="token-launch.html" class="sidebar-link group flex items-center px-5 py-3 rounded-lg font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-accent dark:hover:text-accent hover:bg-accent/10 dark:hover:bg-accent/20 transition-colors duration-150 ease-in-out"><i class="fas fa-rocket w-5 h-5 mr-2.5 text-gray-400 dark:text-gray-500 group-hover:text-accent dark:group-hover:text-accent transition-colors duration-150 ease-in-out"></i><span class="sidebar-label">Token Launch</span></a></li>
        <li><a href="launched-tokens.html" class="sidebar-link group flex items-center px-5 py-3 rounded-lg font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-accent dark:hover:text-accent hover:bg-accent/10 dark:hover:bg-accent/20 transition-colors duration-150 ease-in-out"><i class="fas fa-tasks w-5 h-5 mr-2.5 text-gray-400 dark:text-gray-500 group-hover:text-accent dark:group-hover:text-accent transition-colors duration-150 ease-in-out"></i><span class="sidebar-label">Launched Tokens</span></a></li>
        <li><a href="community.html" class="sidebar-link group flex items-center px-5 py-3 rounded-lg font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-accent dark:hover:text-accent hover:bg-accent/10 dark:hover:bg-accent/20 transition-colors duration-150 ease-in-out"><i class="fas fa-users w-5 h-5 mr-2.5 text-gray-400 dark:text-gray-500 group-hover:text-accent dark:group-hover:text-accent transition-colors duration-150 ease-in-out"></i><span class="sidebar-label">Community</span></a></li>
        <li><a href="influencer.html" class="sidebar-link group flex items-center px-5 py-3 rounded-lg font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-accent dark:hover:text-accent hover:bg-accent/10 dark:hover:bg-accent/20 transition-colors duration-150 ease-in-out"><i class="fas fa-user-secret w-5 h-5 mr-2.5 text-gray-400 dark:text-gray-500 group-hover:text-accent dark:group-hover:text-accent transition-colors duration-150 ease-in-out"></i><span class="sidebar-label">Influencer Analysis</span></a></li>
        <li><a href="revenue-sharing.html" class="sidebar-link group flex items-center px-5 py-3 rounded-lg font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-accent dark:hover:text-accent hover:bg-accent/10 dark:hover:bg-accent/20 transition-colors duration-150 ease-in-out"><i class="fas fa-sack-dollar w-5 h-5 mr-2.5 text-gray-400 dark:text-gray-500 group-hover:text-accent dark:group-hover:text-accent transition-colors duration-150 ease-in-out"></i><span class="sidebar-label">Revenue-Sharing</span></a></li>
      </ul>
    </nav>
    <div class="mt-auto px-4 pb-4 w-full">
      <button id="theme-toggle" class="w-full flex items-center justify-center p-3 rounded-lg bg-light-bg dark:bg-dark-bg hover:bg-light-border dark:hover:bg-dark-border transition-colors text-light-text-secondary dark:text-dark-text-secondary" title="Toggle light/dark mode">
        <span id="theme-icon" class="text-xl">🌙</span>
        <span class="ml-2 font-medium text-sm">Toggle Mode</span>
      </button>
    </div>
  </aside>

  <!-- Main Content Wrapper -->
  <div class="flex-1 flex flex-col min-h-screen ml-0 md:ml-[250px]">
    <!-- Top Bar -->
    <header class="w-full flex justify-between items-center px-6 py-3 bg-light-bg/80 dark:bg-dark-bg/80 backdrop-blur-md sticky top-0 z-10 border-b border-light-border dark:border-dark-border" style="min-height: 60px;">
      <!-- Auth Section (Moved to the left) -->
      <div id="auth-section" class="flex items-center gap-2">
        <div id="user-info" class="hidden text-xs items-center">
          <span id="user-avatar" class="w-6 h-6 rounded-full bg-accent/20 text-accent flex items-center justify-center text-xs font-semibold mr-2"></span>
          <span id="user-email" class="text-light-text-secondary dark:text-dark-text-secondary mr-2"></span>
          <button id="logout-button" class="bg-red-500/20 hover:bg-red-500/30 text-red-500 font-medium py-1 px-2 rounded-md text-xs transition-colors duration-150">Logout</button>
        </div>
        <div id="auth-buttons" class="flex items-center gap-2">
          <button id="login-button" class="bg-transparent text-accent border-2 border-accent font-semibold rounded-md px-3 py-1.5 text-xs hover:bg-accent hover:text-gray-900 transition-colors duration-300">Login</button>
          <button id="signup-button" class="bg-accent text-gray-900 font-semibold rounded-md px-3 py-1.5 text-xs hover:bg-accent-hover transition-colors duration-300">Sign Up</button>
        </div>
      </div>
      <!-- Wallet Section (Moved to the right) -->
      <div id="wallet-section" class="flex items-center gap-3">
        <button id="connect-wallet" class="bg-transparent text-accent border-2 border-accent font-semibold rounded-md px-4 py-2 text-xs hover:bg-accent hover:text-gray-900 transition-colors duration-300 flex items-center">
          <i class="fas fa-wallet mr-1 sm:mr-2"></i>Connect Wallet
        </button>
        <span id="wallet-balance" class="hidden bg-highlight/10 text-highlight rounded-md px-3 py-1.5 text-xs font-medium dark:bg-highlight/20 dark:text-highlight">Balance: <span id="wallet-balance-amount">0</span> SOL</span>
      </div>
    </header>

    <!-- Main Content -->
    <main class="flex-1 px-6 md:px-10 py-8 md:py-12">
      <div class="w-full max-w-container mx-auto">
        <!-- Page Title -->
        <div class="mb-8 md:mb-12 text-center">
            <h1 class="text-3xl md:text-4xl font-bold text-light-text dark:text-dark-text">PredictAI Community Hub</h1>
            <p class="text-base text-light-text-secondary dark:text-dark-text-secondary mt-2 max-w-2xl mx-auto">Engage, collaborate, and share in the world of memecoins. Your central place for all community activities.</p>
        </div>

        <!-- Token Chat Rooms Section -->
        <section id="token-chat-section" class="mb-12 md:mb-16">
            <div class="mb-6">
                <h2 class="text-2xl font-semibold text-light-text dark:text-dark-text flex items-center">
                    <i class="fas fa-comments mr-2.5 text-accent"></i>Token Chat Central
                </h2>
                <p class="text-sm text-light-text-secondary dark:text-dark-text-secondary mt-1">Connect & discuss specific tokens with the community.</p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Chat Embed Iframe -->
                <div class="md:col-span-1 card bg-light-card-bg dark:bg-dark-card-bg p-4 sm:p-6 rounded-xl shadow-card-light dark:shadow-card-dark flex flex-col">
                    <h3 id="current-chat-room-title" class="text-lg sm:text-xl font-semibold mb-3 text-light-text dark:text-dark-text">General Community Chat</h3>
                    <div class="flex-grow min-h-[400px] sm:min-h-[450px] rounded-lg bg-light-bg dark:bg-dark-bg border border-light-border dark:border-dark-border overflow-hidden">
                        <iframe id="chat-iframe" src="https://predictaichat.vercel.app/?room=general" class="w-full h-full border-0"></iframe>
                    </div>
                </div>
                <!-- Token-Specific Chat Rooms List -->
                <div class="md:col-span-1 card bg-light-card-bg dark:bg-dark-card-bg p-4 sm:p-6 rounded-xl shadow-card-light dark:shadow-card-dark">
                    <h3 class="text-lg sm:text-xl font-semibold mb-4 text-light-text dark:text-dark-text">Available Chat Rooms</h3>
                    <div id="token-chat-rooms-container" class="space-y-2 sm:space-y-3 max-h-[400px] sm:max-h-[450px] overflow-y-auto pr-1 sm:pr-2">
                        <!-- Chat room links will be injected here -->
                        <p class="text-sm text-light-text-secondary dark:text-dark-text-secondary">Loading chat rooms...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Collaborative Token Launches Section -->
        <section id="collaborative-launch-section" class="mb-12 md:mb-16 pt-8 border-t border-light-border dark:border-dark-border">
            <div class="mb-8">
                <h2 class="text-2xl font-semibold text-light-text dark:text-dark-text flex items-center">
                    <i class="fas fa-users-cog mr-2.5 text-highlight"></i>Team Up & Launch
                </h2>
                <p class="text-sm text-light-text-secondary dark:text-dark-text-secondary mt-1">Propose ideas, contribute SOL, and launch tokens together with the community.</p>
            </div>

            <!-- Main Grid for Propose & Display -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">

                <!-- Column 1: Propose New Idea Form -->
                <div class="lg:col-span-1 card bg-light-card-bg dark:bg-dark-card-bg p-5 sm:p-6 rounded-xl shadow-card-light dark:shadow-card-dark">
                    <h3 class="text-xl font-semibold mb-4 text-light-text dark:text-dark-text">Propose a New Community Launch</h3>
                    <form id="propose-idea-form" class="space-y-4">
                        <div>
                            <label for="proposal-token-name" class="block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1">Token Name</label>
                            <input type="text" id="proposal-token-name" name="proposal-token-name" required class="w-full p-2.5 border border-light-border dark:border-dark-border rounded-md bg-light-bg dark:bg-dark-bg focus:ring-2 focus:ring-accent focus:border-accent" placeholder="e.g., Pepe's Successor">
                        </div>
                        <div>
                            <label for="proposal-token-symbol" class="block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1">Token Symbol</label>
                            <input type="text" id="proposal-token-symbol" name="proposal-token-symbol" required maxlength="8" class="w-full p-2.5 border border-light-border dark:border-dark-border rounded-md bg-light-bg dark:bg-dark-bg focus:ring-2 focus:ring-accent focus:border-accent" placeholder="e.g., PEPE2">
                        </div>
                        <div>
                            <label for="proposal-concept" class="block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1">Concept / Description</label>
                            <textarea id="proposal-concept" name="proposal-concept" rows="4" required class="w-full p-2.5 border border-light-border dark:border-dark-border rounded-md bg-light-bg dark:bg-dark-bg focus:ring-2 focus:ring-accent focus:border-accent" placeholder="Describe your token idea, its utility, and why it could be successful."></textarea>
                        </div>
                        <div>
                            <label for="proposal-image" class="block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1">Concept Image / Logo (Optional)</label>
                            <input type="file" id="proposal-image" name="proposal-image" accept="image/*" class="w-full text-sm text-light-text-secondary dark:text-dark-text-secondary file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-accent/20 file:text-accent hover:file:bg-accent/30 dark:file:bg-accent/30 dark:file:text-accent dark:hover:file:bg-accent/40 cursor-pointer">
                        </div>
                        <div>
                            <label for="proposal-target-raise" class="block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1">Target Raise (SOL)</label>
                            <input type="number" id="proposal-target-raise" name="proposal-target-raise" required min="1" step="0.1" class="w-full p-2.5 border border-light-border dark:border-dark-border rounded-md bg-light-bg dark:bg-dark-bg focus:ring-2 focus:ring-accent focus:border-accent" placeholder="e.g., 10">
                        </div>
                        <div>
                            <label for="proposal-marketing-package" class="block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1">Marketing Package</label>
                            <select id="proposal-marketing-package" name="proposal-marketing-package" required class="w-full p-2.5 border border-light-border dark:border-dark-border rounded-md bg-light-bg dark:bg-dark-bg focus:ring-2 focus:ring-accent focus:border-accent">
                                <option value="" disabled selected>Select a package...</option>
                                <option value="DexScreener Basic (0.5 SOL)">DexScreener Basic - 0.5 SOL</option>
                                <option value="DexScreener Pro (1.7 SOL)">DexScreener Pro - 1.7 SOL</option>
                                <option value="DexScreener Basic + Boost (2.5 SOL)">DexScreener Basic + Boost - 2.5 SOL</option>
                                <option value="DexScreener Pro + Boost (3.7 SOL)">DexScreener Pro + Boost - 3.7 SOL</option>
                            </select>
                        </div>
                        <button type="submit" class="cursor-btn w-full bg-accent text-gray-900 font-semibold py-2.5 px-4 rounded-md text-sm shadow-cursor hover:shadow-cursor-hover dark:shadow-dark-cursor dark:hover:shadow-dark-cursor-hover flex items-center justify-center">
                            <i class="fas fa-paper-plane mr-2"></i>Submit Proposal
                        </button>
                    </form>
                </div>

                <!-- Column 2 & 3: Display Area for Proposals -->
                <div class="lg:col-span-2 space-y-8">
                    <!-- Section for Active Proposals (Funding Stage) -->
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-light-text dark:text-dark-text">Active Proposals (Funding Stage)</h3>
                        <div id="active-proposals-container" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Example Card (to be replaced by dynamic content) -->
                            <div class="card bg-light-card-bg dark:bg-dark-card-bg p-5 rounded-lg shadow-card-light dark:shadow-card-dark flex flex-col">
                                <div class="flex items-center mb-3">
                                    <div class="w-10 h-10 rounded-full bg-highlight/20 flex items-center justify-center mr-3">
                                        <i class="fas fa-lightbulb text-xl text-highlight"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-semibold text-md text-light-text dark:text-dark-text">"Example Active Proposal"</h4>
                                        <p class="text-xs text-light-text-secondary dark:text-dark-text-secondary">Proposed by @User123</p>
                                    </div>
                                </div>
                                <p class="text-xs text-light-text-secondary dark:text-dark-text-secondary mb-2 line-clamp-2">
                                    This is an example of an active token proposal currently in the funding stage. Community members can contribute SOL.
                                </p>
                                <div class="text-xs space-y-1 mb-3">
                                    <p><strong>Target:</strong> 10 SOL / <strong>Funded:</strong> 3.5 SOL (35%)</p>
                                    <div class="w-full bg-light-border dark:bg-dark-border rounded-full h-2.5 mb-2">
                                        <div class="bg-highlight h-2.5 rounded-full" style="width: 35%"></div>
                                    </div>
                                    <p><strong>Marketing:</strong> DexScreener Pro</p>
                                </div>
                                <div class="mt-auto flex flex-col sm:flex-row gap-2">
                                    <button class="cursor-btn-sm flex-1 bg-highlight/10 hover:bg-highlight/20 text-highlight font-medium py-2 px-3 rounded-md text-xs transition-colors duration-150">
                                        <i class="fas fa-hand-holding-usd mr-1"></i> Contribute SOL
                                    </button>
                                    <button class="cursor-btn-sm flex-1 bg-accent/10 hover:bg-accent/20 text-accent font-medium py-2 px-3 rounded-md text-xs transition-colors duration-150">
                                        <i class="fas fa-comments mr-1"></i> Discuss (Open Chat)
                                    </button>
                                </div>
                            </div>
                             <p id="no-active-proposals" class="text-sm text-light-text-secondary dark:text-dark-text-secondary md:col-span-2 text-center py-4 hidden">No active proposals at the moment. Why not propose one?</p>
                            <!-- More active proposal cards will be dynamically inserted here -->
                        </div>
                    </div>

                    <!-- Section for Funded / Launched Community Projects -->
                    <div>
                        <h3 class="text-xl font-semibold mb-4 text-light-text dark:text-dark-text">Funded & Launched by Community</h3>
                        <div id="launched-community-projects-container" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Example Card (to be replaced by dynamic content) -->
                           <div class="card bg-light-card-bg dark:bg-dark-card-bg p-5 rounded-lg shadow-card-light dark:shadow-card-dark flex flex-col opacity-70">
                                <div class="flex items-center mb-3">
                                    <div class="w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center mr-3">
                                        <i class="fas fa-check-circle text-xl text-green-500"></i>
                                    </div>
                                    <div>
                                        <h4 class="font-semibold text-md text-light-text dark:text-dark-text">"Example Launched Project"</h4>
                                        <p class="text-xs text-light-text-secondary dark:text-dark-text-secondary">Launched successfully!</p>
                                    </div>
                                </div>
                                <p class="text-xs text-light-text-secondary dark:text-dark-text-secondary mb-2 line-clamp-2">
                                    This project was fully funded by the community and has been launched.
                                </p>
                                <div class="text-xs space-y-1 mb-3">
                                    <p><strong>Total Raised:</strong> 15 SOL</p>
                                    <p><strong>Launch Date:</strong> 2025-05-20</p>
                                </div>
                                <div class="mt-auto">
                                    <a href="#" target="_blank" class="cursor-btn-sm block w-full text-center bg-accent text-gray-900 font-medium py-2 px-3 rounded-md text-xs transition-colors duration-150">
                                        <i class="fas fa-chart-line mr-1"></i> View on Dex
                                    </a>
                                </div>
                            </div>
                            <p id="no-launched-community-projects" class="text-sm text-light-text-secondary dark:text-dark-text-secondary md:col-span-2 text-center py-4 hidden">No community projects launched yet.</p>
                            <!-- More launched project cards will be dynamically inserted here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Share Your Voice Section -->
        <section id="twitter-share-section" class="mb-8 md:mb-12 pt-8 border-t border-light-border dark:border-dark-border">
            <div class="mb-6">
                <h2 class="text-2xl font-semibold text-light-text dark:text-dark-text flex items-center">
                    <i class="fab fa-twitter mr-2.5 text-twitter-blue"></i>Spread the Word
                </h2>
                <p class="text-sm text-light-text-secondary dark:text-dark-text-secondary mt-1">Share your favorite tokens or your own launches with pre-made tweets.</p>
            </div>
            <div id="twitter-share-container" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="card bg-light-card-bg dark:bg-dark-card-bg p-5 rounded-lg shadow-card-light dark:shadow-card-dark">
                    <h4 class="font-semibold text-md text-light-text dark:text-dark-text mb-2">Share a Token Discovery</h4>
                    <p class="text-xs text-light-text-secondary dark:text-dark-text-secondary mb-3">
                        Just found an amazing new token <span class="font-bold text-light-text dark:text-dark-text">[Token Name/$SYMBOL]</span> on @PredictAiPro! Looks promising. #Memecoin #Solana #Crypto #[Symbol]
                    </p>
                    <button class="twitter-share-button cursor-btn w-full bg-twitter-blue text-white font-medium py-2 px-3 rounded-md text-sm hover:bg-blue-500 transition-colors duration-150" data-text="Just found an amazing new token [Token Name/$SYMBOL] on @PredictAiPro! Looks promising. #Memecoin #Solana #Crypto #[Symbol]">
                        <i class="fab fa-twitter mr-1.5"></i>Tweet about a Discovery
                    </button>
                </div>
                <div class="card bg-light-card-bg dark:bg-dark-card-bg p-5 rounded-lg shadow-card-light dark:shadow-card-dark">
                    <h4 class="font-semibold text-md text-light-text dark:text-dark-text mb-2">Announce Your Own Launch</h4>
                    <p class="text-xs text-light-text-secondary dark:text-dark-text-secondary mb-3">
                        Excited to announce my new token <span class="font-bold text-light-text dark:text-dark-text">[Your Token Name/$YOURSYMBOL]</span>, launched with PredictAI! Check it out! #NewLaunch #Memecoin #[YourSymbol] @PredictAiPro
                    </p>
                    <button class="twitter-share-button cursor-btn w-full bg-twitter-blue text-white font-medium py-2 px-3 rounded-md text-sm hover:bg-blue-500 transition-colors duration-150" data-text="Excited to announce my new token [Your Token Name/$YOURSYMBOL], launched with PredictAI! Check it out! #NewLaunch #Memecoin #[YourSymbol] @PredictAiPro">
                        <i class="fab fa-twitter mr-1.5"></i>Tweet Your Launch
                    </button>
                </div>
            </div>
        </section>

      </div>
    </main>

    <!-- Footer -->
    <footer class="w-full bg-light-sidebar text-light-text-secondary py-6 px-6 md:px-10 mt-auto border-t border-light-border dark:bg-dark-sidebar dark:text-dark-text-secondary dark:border-dark-border">
      <div class="max-w-container mx-auto flex flex-col md:flex-row items-center justify-between gap-4">
        <div class="text-sm">
          © 2025 PredictAI. All rights reserved.
        </div>
        <div class="flex gap-3">
          <a href="https://x.com/PredictAiPro" target="_blank" rel="noopener noreferrer" class="footer-icon text-light-text-secondary hover:text-accent dark:text-dark-text-secondary dark:hover:text-accent" title="X (Twitter)">
            <svg xmlns='http://www.w3.org/2000/svg' class='w-5 h-5' fill='currentColor' viewBox='0 0 16 16'>
              <path d='M12.6.75h2.454l-5.36 6.142L16 15.25h-4.937l-3.867-5.07-4.425 5.07H.316l5.733-6.57L0 .75h5.063l3.495 4.633L12.602.75Zm-.86 13.028h1.36L4.323 2.145H2.865z'/>
            </svg>
          </a>
          <a href="https://t.me/predictAIofficial" target="_blank" rel="noopener noreferrer" class="footer-icon text-light-text-secondary hover:text-accent dark:text-dark-text-secondary dark:hover:text-accent" title="Telegram">
            <svg fill="currentColor" viewBox="0 0 24 24" class="w-5 h-5"><path d="M9.04 16.87l-.39 3.66c.56 0 .8-.24 1.09-.53l2.62-2.5 5.44 3.98c1 .55 1.72.26 1.97-.92l3.58-16.84c.32-1.48-.54-2.06-1.5-1.7L2.2 9.3c-1.45.56-1.43 1.36-.25 1.72l4.6 1.44 10.7-6.74c.5-.32.96-.14.58.18z"/></svg>
          </a>
          <a href="#" class="footer-icon text-light-text-secondary hover:text-accent dark:text-dark-text-secondary dark:hover:text-accent" title="Discord">
            <svg fill="currentColor" viewBox="0 0 24 24" class="w-5 h-5"><path d="M20.317 4.3698a19.7913 19.7913 0 0 0-4.8851-1.5152.0741.0741 0 0 0-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 0 0-.0785-.037 19.7363 19.7363 0 0 0-4.8852 1.515.0699.0699 0 0 0-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 0 0 .0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 0 0 .0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 0 0-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 0 1-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 0 1 .0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 0 1 .0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 0 1-.0066.1276 12.2986 12.2986 0 0 1-1.8732.8914.0766.0766 0 0 0-.0406.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 0 0 .0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 0 0 .0312-.0552c.5004-5.177-.8382-9.673-3.5485-13.6604a.061.061 0 0 0-.0312-.0286zM8.02 15.3312c-1.1835 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1836 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"/></svg>
          </a>
        </div>
      </div>
    </footer>
  </div>

  <!-- Pre-Activation Wallet Popup (Copied from index.html) -->
  <div id="pre-activation-popup" class="fixed inset-0 bg-black/70 dark:bg-black/80 backdrop-blur-md flex items-center justify-center z-50 hidden p-4">
    <div class="bg-light-card-bg dark:bg-dark-card-bg p-0 rounded-xl shadow-2xl w-full max-w-lg text-center relative overflow-hidden">
      <img src="banner.png" alt="PredictAI Banner" class="w-full h-auto object-cover mb-2 sm:mb-0">
      <button id="close-pre-activation-popup" class="absolute top-3 right-4 text-white hover:text-gray-200 text-3xl bg-black/30 rounded-full w-8 h-8 flex items-center justify-center">&times;</button>
      
      <div class="p-6 md:p-8">
        <div class="flex items-center justify-center mb-3">
            <svg class="h-7 w-7 text-accent mr-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12.75 3.03v.568c0 .334.148.65.405.85l.708.568c.295.236.442.606.442.98v.568c0 .334-.148.65-.405.85l-.708.568c-.295.236-.442.606-.442.98v.568c0 .334.148.65.405.85l.708.568c.295.236.442.606.442.98v.568c0 .334-.148.65-.405.85l-.708.568c-.295.236-.442.606-.442.98v.568c0 .334.148.65.405.85l.708.568c.295.236.442.606.442.98v0M7.5 3.03v.568c0 .334-.148.65-.405.85l-.708.568c-.295.236-.442.606-.442.98v.568c0 .334.148.65.405.85l.708.568c.295.236.442.606.442.98v.568c0 .334-.148.65-.405.85l-.708.568c-.295.236-.442.606-.442.98v.568c0 .334.148.65.405.85l.708.568c.295.236.442.606.442.98v0" /></svg>
            <h2 class="text-xl sm:text-2xl font-semibold text-light-text dark:text-dark-text">Almost Ready to Connect!</h2>
        </div>
        <p class="text-xs sm:text-sm text-light-text-secondary dark:text-dark-text-secondary mb-4 leading-relaxed">
          Full wallet integration and all related features will be activated for everyone approximately <strong class="text-light-text dark:text-dark-text">48 hours after our official launch.</strong>
          <br class="hidden sm:block"/>Stay updated! Join our official Telegram for launch announcements.
        </p>
        <p class="text-base sm:text-lg font-semibold text-accent dark:text-accent-hover mb-5">
            Launch Countdown: <span class="animate-pulse">Activating Soon!</span>
        </p>
        <div class="flex flex-col sm:flex-row justify-center items-center gap-3">
            <a href="https://t.me/predictAIofficial" target="_blank" rel="noopener noreferrer" 
               class="w-full sm:w-auto bg-transparent border-2 border-white text-white font-semibold rounded-lg px-5 py-2.5 text-sm hover:bg-white/10 dark:hover:bg-white/20 transition-colors duration-300 inline-flex items-center justify-center">
                <i class="fab fa-telegram-plane mr-2"></i> Join on Telegram
            </a>
            <button id="got-it-button" 
                    class="w-full sm:w-auto bg-transparent border-2 border-accent text-accent font-semibold rounded-lg px-8 py-2.5 text-sm hover:bg-accent hover:text-gray-900 transition-colors duration-300">
              Got It!
            </button>
        </div>
        <p class="text-xs text-light-text-secondary dark:text-dark-text-secondary mt-5">
            Preview. Full functionality soon!
        </p>
      </div>
    </div>
  </div>

  <script>
    // Common scripts (Theme Toggle, Active Sidebar Link, Supabase Client)
    const html = document.documentElement;
    const themeToggle = document.getElementById('theme-toggle');
    const themeIcon = document.getElementById('theme-icon');

    function setTheme(mode) {
      localStorage.setItem('theme', mode);
      if (mode === 'dark') {
        html.classList.add('dark');
        html.classList.remove('light');
        themeIcon.textContent = '☀️';
      } else {
        html.classList.add('light');
        html.classList.remove('dark');
        themeIcon.textContent = '🌙';
      }
    }

    const savedTheme = localStorage.getItem('theme');
    const initialTheme = savedTheme || 'dark';
    setTheme(initialTheme);
    if (initialTheme === 'dark') {
        html.classList.add('dark');
        html.classList.remove('light');
    } else {
        html.classList.add('light');
        html.classList.remove('dark');
    }

    themeToggle.addEventListener('click', () => {
      setTheme(html.classList.contains('dark') ? 'light' : 'dark');
    });

    document.addEventListener('DOMContentLoaded', function() {
      const connectWalletBtn = document.getElementById('connect-wallet');
      const walletBalanceSpan = document.getElementById('wallet-balance');
      const walletBalanceAmount = document.getElementById('wallet-balance-amount');
      const preActivationPopup = document.getElementById('pre-activation-popup');
      const closePreActivationPopupButton = document.getElementById('close-pre-activation-popup');
      const gotItButton = document.getElementById('got-it-button');

      function openPreActivationPopup() {
        if (preActivationPopup && !localStorage.getItem('predictAI_almostReadyAcknowledged')) {
            preActivationPopup.classList.remove('hidden');
        } else {
            Swal.fire({
                title: 'Wallet Feature',
                text: 'Full wallet functionality is activating soon! Check back after our official launch.',
                icon: 'info',
                confirmButtonColor: tailwind.config.theme.extend.colors.accent,
                background: document.documentElement.classList.contains('dark') ? tailwind.config.theme.extend.colors['dark-card-bg'] : tailwind.config.theme.extend.colors['light-card-bg'],
                color: document.documentElement.classList.contains('dark') ? tailwind.config.theme.extend.colors['dark-text'] : tailwind.config.theme.extend.colors['light-text'],
            });
        }
      }

      if (connectWalletBtn) {
          connectWalletBtn.addEventListener('click', openPreActivationPopup);
      }

      if (preActivationPopup && closePreActivationPopupButton && gotItButton) {
          closePreActivationPopupButton.addEventListener('click', () => {
              preActivationPopup.classList.add('hidden');
          });

          gotItButton.addEventListener('click', () => {
              preActivationPopup.classList.add('hidden');
              localStorage.setItem('predictAI_almostReadyAcknowledged', 'true');
              Swal.fire({
                  title: 'Got it!',
                  text: 'Thanks for your patience! Full features are on the way.',
                  icon: 'success',
                  timer: 2000,
                  showConfirmButton: false,
                  background: document.documentElement.classList.contains('dark') ? tailwind.config.theme.extend.colors['dark-card-bg'] : tailwind.config.theme.extend.colors['light-card-bg'],
                  color: document.documentElement.classList.contains('dark') ? tailwind.config.theme.extend.colors['dark-text'] : tailwind.config.theme.extend.colors['light-text'],
              });
          });
      } else {
          console.warn("[Community Page] New popup HTML elements (pre-activation-popup, etc.) not found.");
      }

      // Supabase Client Initialization (if still needed here, or ensure it's globally available)
      // const supabaseUrl = 'YOUR_SUPABASE_URL'; // Replace with actual URL if not set globally
      // const supabaseKey = 'YOUR_SUPABASE_ANON_KEY'; // Replace with actual Key if not set globally
      // const supabase = supabaseClient.createClient(supabaseUrl, supabaseKey);

      // ... Other Community Page Specific JS that needs DOM to be ready ...
      initializeAuthUI(); // Ensure this is called after Supabase client is ready
      initializeChatRoomSwitcher();
      initializeCollaborativeLaunchForm();
      fetchAndDisplayProposals();
    });

    // ... Supabase Auth, Chat, Proposal functions (potentially outside DOMContentLoaded if they are definitions) ...
  </script>
</body>
</html>
